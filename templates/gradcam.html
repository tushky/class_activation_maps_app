{% extends "base.html" %}

{% block title %}
<h1>Grad-CAM: Gradient-weighted Class Activation Mapping </h1>
{% endblock %}

{% block content %}

<p>
	<h3>Grad-CAM highlights regions of the image the classification model looks at while making predictions.</h3>
	{% with messages = get_flashed_messages() %}
	  {% if messages %}
		<ul class=flashes>
		{% for message in messages %}
		  <li>{{ message }}</li>
		{% endfor %}
		</ul>
	  {% endif %}
	{% endwith %}
</p>
{% if original %}
		<div class="container">
			<div class="row">                                     
				<div class="col-sm-4">                 
					<img class="img-responsive" src="{{original}}" />
				</div>                  
				<div class="col-sm-4">
					<img class="img-responsive" src="{{result}}" />
				</div>                  
			</div>
		</div>
{% endif %}
<form method="post" action="/gradcam/" enctype="multipart/form-data">
	<div class="button-container">
	<input class = "button button1" type="file" name="file" autocomplete="off">
	{%if named_class%}
		<div class="dropdown">
			<select class="dropbtn" id="select_class" name='select_class'>
				{% for key in named_class %}
				<option value="{{key}}" class="dropdown-content">{{named_class[key]}}</option>
				{% endfor %}
			</select>
		</div>
    {% endif %}
	<button class="button button2" type="submit">Submit</button>
</form>
</div>
{% endblock %}